# ミニ四駆 コマ送りビデオ (iPhone向けPWA)

ミニ四駆の動画をコマ送りで確認できる PWA アプリです。iPhone のホーム画面に追加して全画面で使えます。

機能
- ライブラリから動画を選択（写真ライブラリ・ファイルアプリ）
- 再生・一時停止、シークバーでの位置調整
- コマ送り（前/後）
- ピンチイン/アウトで拡大縮小、1本指ドラッグでパン
- ダブルタップで表示をリセット/ズーム
- UI は動画上に小さくオーバーレイ表示

使い方
1. サーバを立ち上げて `index.html` にアクセスしてください（Service Worker の都合で `file://` 直開きは不可）。
   - 例: `python3 -m http.server 5173` などで起動し、http://localhost:5173 にアクセス。
2. 右上のフォルダボタンから動画を選択。
3. 下部のボタンで再生/一時停止、前後コマ送り、スライダーでシーク。
4. 2本指ピンチで拡大縮小、拡大時は1本指でパン、ダブルタップでリセット/ズーム。

PWA として使う
- iPhone Safari でページを開き、共有メニューから「ホーム画面に追加」。
- 追加後はオフラインでもアプリシェルが利用できます（動画ファイル自体はキャッシュしません）。

注意点
- フレーム単位の移動は `requestVideoFrameCallback` が利用可能な場合にFPSを自動推定します。非対応環境では 30fps 相当で動作します。
- iOS の制限上、写真ライブラリの動画はファイル入力経由で取得します。

